---
import Button from "@components/Button.astro";
import ApplicationLayout from "./ApplicationLayout.astro";
import TablerIcon from "@components/TablerIcon.astro";
import Menu from "@components/Menu.astro";
import MenuItem from "@components/MenuItem.astro";
import Badge from "@components/Badge.astro";

interface Props {
  pageTitle: string;
};

const { pageTitle } = Astro.props;

const currentPath = new URL(Astro.request.url).pathname;
---

<ApplicationLayout title={pageTitle}>
  <!-- HEADER -->
  <div slot="header-left">
    <h1 class="font-semibold leading-none">Astro Components Demo</h1>
    <span class="text-sm text-neutral-800">{pageTitle}</span>
  </div>

  <slot slot="header-center" name="header-center">
    <div class="hidden md:block w-96 h-4 bg-neutral-300" slot="header-center"></div>
  </slot>

  <Button slot="header-right" as="anchor" size="small" color="muted">
    <TablerIcon iconName="settings" class="size-6 text-neutral-800" />
     Settings
  </Button>

  <!-- SIDEBAR -->
  <nav slot="sidebar">
    <Menu class="p-4">
      <div class="col-span-3 flex gap-2 items-center px-2 py-1">Application</div>
      <MenuItem href="/" aria-current={currentPath === "/" ? "page" : "false"}>
        <TablerIcon slot="left" iconName="home" class="size-5" />
         Homepage
        <TablerIcon slot="right" iconName="arrow-right" class="size-5" />
      </MenuItem>
      <MenuItem href="/buttons" aria-current={currentPath === "/buttons" ? "page" : "false"}>
        <TablerIcon slot="left" iconName="click" class="size-5" />
         Buttons
        <Badge slot="right" style="muted">New</Badge>
      </MenuItem>
      <MenuItem href="/badges" aria-current={currentPath === "/badges" ? "page" : "false"}>
        <TablerIcon slot="left" iconName="badge" class="size-5" />
         Badge
        <Badge slot="right">Like this</Badge>
      </MenuItem>
      <MenuItem href="/boxes" aria-current={currentPath === "/boxes" ? "page" : "false"}>
        <TablerIcon slot="left" iconName="box" class="size-5" />
         Box and BoxGrid
      </MenuItem>
      <MenuItem href="/modals" aria-current={currentPath === "/modals" ? "page" : "false"}>
        <TablerIcon slot="left" iconName="stack" class="size-5" />
         Modals
      </MenuItem>
      <MenuItem href="/tab-panels" aria-current={currentPath === "/tab-panels" ? "page" : "false"}>
        <TablerIcon slot="left" iconName="folder" class="size-5" />
         Tabs
      </MenuItem>
      <MenuItem href="/callouts" aria-current={currentPath === "/callouts" ? "page" : "false"}>
        <TablerIcon slot="left" iconName="alert-triangle" class="size-5" />
         Callouts
      </MenuItem>
      <MenuItem href="/tables" aria-current={currentPath === "/tables" ? "page" : "false"}>
        <TablerIcon slot="left" iconName="table" class="size-5" />
         Tables
      </MenuItem>
      <div class="mt-8 col-span-3 flex gap-2 items-center px-2 py-1">Marketing</div>
      <MenuItem href="/marketing/" aria-current={currentPath === "/marketing/" ? "page" : "false"}>
        <TablerIcon slot="left" iconName="link" class="size-5" />
         Test page
        <TablerIcon slot="right" iconName="arrow-right" class="size-5" />
      </MenuItem>
      <MenuItem as="button">
        <TablerIcon iconName="plus" class="size-6" />
         Create new dashboard
      </MenuItem>
      <MenuItem as="button" color="secondary">Edit configuration</MenuItem>
    </Menu>
  </nav>

  <!-- CONTENT -->
  <slot />
</ApplicationLayout>
